<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dosha Oscillation Engine</title>
    <link rel="stylesheet" href="style.css" />
</head>

<body>

    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="logo">Dosha Oscillation Engine</div>
        <ul class="nav-links">
            <li><a href="#home">Home</a></li>
            <li><a href="#oscillation">Oscillation</a></li>
            <li><a href="#prakriti">Prakriti</a></li>
            <li><a href="#settings">Settings</a></li>
        </ul>
    </nav>
<!-- HEADER SECTION -->
<header class="hero-section">

    <img src="logo.png" alt="Logo" class="hero-logo" />

    <h1 class="hero-title">Dosha Oscillation Engine</h1>

    <p class="hero-tagline">Luxury Healing Through Ayurvedic Intelligence...</p>

</header>
    <!-- DOSHA OSCILLATION ENGINE UI -->
<div class="dosha-container">

    <canvas id="doshaCanvas" width="380" height="380"></canvas>

    <div class="dosha-values">
        <p><span class="vata-value">Vata: 40</span></p>
        <p><span class="pitta-value">Pitta: 35</span></p>
        <p><span class="kapha-value">Kapha: 25</span></p>
    </div>

</div>
    <!-- FACTOR INPUT PANEL -->
<div class="factor-panel">

    <h2>Dosha Factor Inputs</h2>

    <label>Sleep Quality</label>
    <input type="range" min="0" max="100" value="70" id="sleep">

    <label>Hydration Level</label>
    <input type="range" min="0" max="100" value="60" id="hydration">

    <label>Stress Level</label>
    <input type="range" min="0" max="100" value="40" id="stress">

    <label>Agni (Digestion Strength)</label>
    <input type="range" min="0" max="100" value="55" id="agni">

    <label>Temperature (Hot/Cold)</label>
    <input type="range" min="0" max="100" value="45" id="temp">

    <label>Food Type (Ushna, Snigdha, Rukshaâ€¦)</label>
    <input type="range" min="0" max="100" value="50" id="food">

    <label>Daily Routine Stability</label>
    <input type="range" min="0" max="100" value="65" id="routine">

    <label>Seasonal Effect</label>
    <input type="range" min="0" max="100" value="50" id="season">

    <label>Ama (Toxin Load)</label>
    <input type="range" min="0" max="100" value="30" id="ama">

    <label>Activity Level</label>
    <input type="range" min="0" max="100" value="75" id="activity">

</div>
    
    <script src="app.js"></script>
    <script>
// ------------------------------
// REAL-TIME DOSHA OSCILLATION ENGINE (STEP B9)
// ------------------------------

let vata = 40;
let pitta = 35;
let kapha = 25;

// Chaos factor (makes motion alive)
let chaos = 0.09;

// Smooth animation variable
let t = 0;

// Select the glow circle
const engineGlow = document.querySelector(".glow-ring");

// Update display function
function updateDisplay() {
    document.getElementById("vataVal").innerText = Math.round(vata);
    document.getElementById("pittaVal").innerText = Math.round(pitta);
    document.getElementById("kaphaVal").innerText = Math.round(kapha);

    // Glow intensity = imbalance
    let imbalance = Math.abs(vata - pitta) + Math.abs(pitta - kapha) + Math.abs(kapha - vata);
    let glow = Math.min(imbalance * 0.8, 150);

    engineGlow.style.filter = `blur(${12 + glow / 15}px) brightness(${1 + glow / 120})`;
}

// Slider inputs (Step B8 connected)
function getFactor(id) {
    return parseInt(document.getElementById(id).value);
}

// MAIN OSCILLATION ENGINE
function oscillate() {
    t += 0.015;

    // Read factor influences
    let sleep = getFactor("sleep");
    let hydration = getFactor("hydration");
    let stress = getFactor("stress");
    let agni = getFactor("agni");
    let temperature = getFactor("temp");
    let food = getFactor("food");
    let routine = getFactor("routine");
    let season = getFactor("season");
    let ama = getFactor("ama");
    let activity = getFactor("activity");

    // ---- Real-time oscillation logic ----
    
    vata += Math.sin(t * 2.5) * chaos * (stress/10 + season/20 + activity/15);
    pitta += Math.cos(t * 1.8) * chaos * (temperature/15 + food/25 + stress/10);
    kapha += Math.sin(t * 1.2 + Math.cos(t * 2)) * chaos * (hydration/10 + ama/15 + routine/18);

    // Bring back to total = 100
    let total = vata + pitta + kapha;
    vata = (vata / total) * 100;
    pitta = (pitta / total) * 100;
    kapha = (kapha / total) * 100;

    updateDisplay();
    requestAnimationFrame(oscillate);
}

updateDisplay();
oscillate();

    </script>
    
</body>
</html>
